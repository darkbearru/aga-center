import{_ as x}from"./nuxt-img.ced04cb3.js";import{f as g,r as v,o as t,c as o,u as s,h as k,b as h,k as l,F as y,i as w,g as D}from"./entry.676b6978.js";import C from"./icon-trash.903a0f0f.js";import B from"./icon-restore.f3d8e6a1.js";const L={class:"relative w-[150px] h-[112px]"},j={key:0},E=["onClick"],I=["onClick"],z={key:1},N={key:0,class:"absolute z-10 top-0 left-0 right-0 bottom-0 backdrop-blur-md bg-dark-light/60 flex items-center justify-center text-white rounded"},$=g({__name:"PhotosListItem",props:{item:Object,moderation:{type:Boolean,default:!0}},emits:["deleted"],setup(n,{emit:u}){const c=n,i=u,e=v(c.item.isDeleted||!1),a=()=>{var d;e.value=!e.value,i("deleted",s(e),(d=c.item)==null?void 0:d.id)};return(d,_)=>{const r=x;return t(),o("div",L,[n.moderation?(t(),o("div",j,[s(e)?(t(),o("div",{key:0,class:"absolute z-20 right-0 top-0 w-6 h-6 p-1 bg-main hover:bg-second text-white cursor-pointer rounded-tr rounded-bl",onClick:k(a,["prevent","stop"])},[h(s(B),{filled:""})],8,E)):(t(),o("div",{key:1,class:"absolute z-20 right-0 top-0 w-6 h-6 p-1 bg-dark-light hover:bg-red-600 text-white cursor-pointer rounded-tr rounded-bl",onClick:k(a,["prevent","stop"])},[h(s(C),{filled:""})],8,I))])):l("",!0),h(r,{src:n.item.path,format:"webp",quality:"85",aspect:"4/3",class:"w-full h-full rounded object-cover"},null,8,["src"]),n.moderation?(t(),o("div",z,[s(e)?(t(),o("div",N,"DELETED")):l("",!0)])):l("",!0)])}}}),F={key:0,class:"flex gap-2 mb-4"},q=g({__name:"PhotosList",props:{photos:Object,moderation:{type:Boolean,default:!0}},emits:["updated"],setup(n,{expose:u,emit:c}){const i=n,e=v(i.photos||[]),a=c;u({update:_});const d=(r,f)=>{const b=i.photos.find(m=>(m==null?void 0:m.id)===f);b&&(b.isDeleted=r),a("updated")};function _(r){e.value=r}return(r,f)=>s(e).length?(t(),o("div",F,[(t(!0),o(y,null,w(s(e),p=>(t(),D($,{item:p,key:`photo_${p.id}`,moderation:i.moderation,onDeleted:d},null,8,["item","moderation"]))),128))])):l("",!0)}});export{q as _};
